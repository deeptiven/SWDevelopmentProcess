# Test Plan

**Author**: Team 59

Version: 3.0

| Version        | Time           | Description  |
| ------------- |:-------------:| -----------------------:|
| 1.0      | 06/28/2019 | Initial version of TestPlan.md |
| 2.0      | 07/05/2019 | Added more test cases and partial results|
| 3.0      | 07/11/2019 | Update the actual test strategy and the final test results|

  
## 1 Testing Strategy

### 1.1 Overall strategy

* We applied unit, integration, and system testing on the cryptogram application at different phases of the project to ensure that it met the required functionality and requirements as described in the assignment 5 document while maintaining desirable application performant characteristics.
    - **Unit testing:** The complex processing of inputs and outputs for the game are contained in the create cryptogram and solve cryptogram modules. Unit testing was conducted by the developers on an offline basis to test the individual functionalities of both of modules. Moreover, in parallel, the functionalities requirements for the administrator and player were built by another set of developers who worked on both the database design and logic as well as the front end processing and visualization. This set of developers also employed local offline unit testing of the SQL scripts and their associated java modules. This strategy was employed to maximize all the developer's time and to ensure each module's function behaved accurately prior to integration.
    - **Integration testing:** Most of the use cases in our Use Case diagram rely on the interactions of multiple modules found in the Class diagram. For example, after the player successfully solves a cryptogram by interacting with the solve cryptogram module, the player score is updated by the player score module and the cryptogram statistics are processed and updated by the cryptogram statistic module. Integration testing was implemented within the context of each use case to verify the behavior between each modules and the passing of accurate data between modules. Prior to commencing development, the team had agreed on the data types that would pass between modules and created interface classes as stand-ins. The integration test cases were developed by the Test Lead after the majority of the functionalities were implemented in the individual modules.
    - **System testing:** After all the modules were completely built and passed their unit tests, the team began system testing which included user acceptance testing and regression testing. In the case of user acceptance testing, the Test Lead verified that all the user requirements were met. The integration testing intersected with the user acceptance testing as the integration test cases were designed around the Use Cases. This will increase the probability of finding bugs or defects throughout the testing phase while minimizing the time spent testing. We will also perform regression testing after every major release. This implies that we will not only test the failed test case after the bugs have been fixed, but we will also test the other test cases related to the affected modules to ensure that no new bugs appear.

### 1.2 Test Selection

* Below are the testing techniques for each level of testing:
    - **Unit testing:** We used category partition method as a systematic way to generate black-box test cases for the create cryptogram and solve cryptogram modules. For example, for the create cryptogram module, we tested each of the inputs (i.e. title, unencoded phase, mapping etc.) with partitions of different properties of the inputs (e.g. the unencoded phrase: contains different permutations of non-alphabetic characters, spaces and case). Unit testing was used to test against all the constraints and rules of the game and to validate inputs and outputs on each screen. As the functions for the different modules were developed, we found the codes in the create cryptogram and solve cryptogram modules involves many condition statements. As such, we added white-box testing to cover the various code branches and expected module behavior.
    - **Integration testing:**  Whenever possible, we performed black-box testing with the category partition method. Specifically, for each use case, we identified a set of testable features, identified categories (e.g. correctness of the solution provided by players in solve cryptogram), and partitioned category into choices (e.g. right solution/wrong solution/attempts) to produce test case specifications and test cases. The correct output usually involves interactions among several modules. Moreover, extensive time, effort and work was spent on developing persistence functionality during in game sessions and logging out of the application and logging back in. Therefore we chose test cases during the integrating testing to stress the persistence features of the application. 
    - **System testing:** To verify system functionality performance, each member of the team ran the application against the test cases and logged all bugs and errors during Alpha and Beta testing phases. To verify system non-functionality performance, team members noted the load time, automatic transition to the player main menu, and the length of time toast messages appear and disappear and the time it takes to navigate to different screens, log in and log out. The team adjusted timing settings, closed cursors and database connections (i.e. to reduce memory footprint) to ensure a smooth and responsive  user experience. For example, we tuned the application so that users do not wait too long for a screen to load. Moreover, during system testing, the layout was adjusted to ensure the user interface was intuitive and responsive.
    
 
### 1.3 Adequacy Criterion

* For black-box testing, we assessed the quality of test cases by their functional coverage. The category partition method provide us a systematical way to generate test cases. We designed a test suite that covers all use cases, all independent testable features, and as many non-trivial inputs as possible, and identified meaningful categories and partitions based on the user requirements.  

* For white-box testing used for the create cryptogram module and the solve cryptogram module, we assessed the quality of the test cases by branch coverage. If we were given more time, we would adopt MC/DC coverage which can cover more paths in the codes while limits the tested paths to those that matters.

### 1.4 Bug Tracking

* Systems such as JIRA and Team City are usually used in industry for raising tickets and tracking bugs. Due to the time limits and deadlines of this class project, we used a shared Google SpreadSheet and Group Chat to track test cases and bugs fixes. This ensures that all members of the team are aware of the bugs and their status during development. Developers also added bug fix status and information in their message when they commit code to GitHub.

### 1.5 Technology

* Since no members of the team owned Android devices we used emulators in Android Studio for testing and development. The two android virtual devices that were used were the Pixel 2 with Android 8 Oreo API 26, and the Nexus 5 Android 8 Oreo API 26. Due to time constraints, no other emulators and Android versions were used for testing and development. If we were given more time and if we expect on-going upgrades of the application, we would use more automated testing technologies (such as JUnit, Espresso etc.) to improve testing efficiency especially during regression testing.  

## 2 Test Cases

* Below are the list of test cases for testing.

| TC ID | Use case                                | Purpose                                                                                  | PreSteps                                                                                                                                                                                                           | Expected result                                                                                                                                                                   | Actual result                                                                                                                                                                     | Pass/Fail |
|-------|-----------------------------------------|------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|
| 1     | Sign up                                 | New user can sign up with unique username                                                | Click "sign up" and enter a unique username, a password, and an email and hit "submit"                                                                                                                             | sign up successfully.                                                                                                                                                             | sign up successfully.                                                                                                                                                             | Pass      |
| 2     | Sign up                                 | New user cannot sign up with an existing username                                        | Click "sign up" and enter an existing username, a password, and an email and hit "submit"                                                                                                                          | sign up failed; throw an error message                                                                                                                                            | sign up failed; throw an error message                                                                                                                                            | Pass      |
| 3     | Sign up                                 | New player will start with 20 points                                                     | Sign up successfully, View player scores                                                                                                                                                                           | The new player has 20 points on view player scores site                                                                                                                           | The new player has 20 points on view player scores site                                                                                                                           | Pass      |
| 4     | Login                                   | Player can login by providing valid account info                                         | Player enter valid account info and click "login"                                                                                                                                                                  | login successfully, jump to player main menu                                                                                                                                      | login successfully, jump to player main menu                                                                                                                                      | Pass      |
| 5     | Login                                   | Admin can login by providing admin account info                                          | Admin enter valid account info and click "login"                                                                                                                                                                   | login successfully, jump to admin main menu                                                                                                                                       | login successfully, jump to admin main menu                                                                                                                                       | Pass      |
| 6     | Login                                   | Player cannot login when username is invalid                                             | Player enter invalid username and click "login"                                                                                                                                                                    | login unsuccessful, display invalid account message                                                                                                                                | login unsuccessful, display invalid username or password                                                                                                                           | Pass      |
| 7     | Login                                   | Player cannot login when password is invalid                                             | Player enter valid username but wrong password and click "login"                                                                                                                                                   | login unsuccessful, display invalid account message                                                                                                                                | login unsuccessful, display invalid username or password                                                                                                                           | Pass      |
| 8     | Create a cryptogram                     | Player can create a cryptogram by entering valid configs and gain 5 points                | Player entering valid configs and click "SAVE" in the add cryptogram site                                                                                                                                          | new cryptogram created; Player see successful info in the UI; creator's player score increase by 5                                                                                 | new cryptogram created; Player see successful info in the UI; creator's player score increase by 5                                                                                 | Pass      |
| 9     | Create a cryptogram                     | Player cannot create a cryptogram if the title is not unique                              | Player entering a title that exists in the system and click "SAVE" in the add cryptogram site                                                                                                                      | display "title is not unique" message, fail to create cryptogram                                                                                                                  | display "title is not unique" message, fail to create cryptogram                                                                                                                  | Pass      |
| 10    | Create a cryptogram                     | Player cannot replace a letter with the same letter                                      | Player try to replace a letter with the same letter and click "SAVE" in the add cryptogram site                                                                                                                    | Player cannot achieve the attempt and see an error message                                                                                                                        | Player cannot achieve the attempt and see an error message                                                                                                                        | Pass      |
| 11    | Create a cryptogram                     | Capitalization and non-alphabetical characters are preserved                             | Player entering valid configs and an unencoded phase with both upper and lower cases and non-alphabetical characters click "SAVE" in the add cryptogram site                                                       | Capitalization and non-alphabetical characters are preserved in the encoded phase                                                                                                 | Not every letters in the encoded phase show up in the drop down menu after adding non-alphabetical characters in it                                                               | Pass      |
| 12    | Solve a cryptogram                      | Player will be prompted to bet a point before see the cryptogram                         | Player click "solve a cryptogram" button in the main menu                                                                                                                                                          | Player will be prompted to bet a point before see the cryptogram                                                                                                                  | Player will be prompted to bet a point before see the cryptogram                                                                                                                  | Pass      |
| 13    | Solve a cryptogram                      | Player cannot bet invalid points                                                         | Player bet points less than 0                                                                                                                                                                                      | display invalid input message                                                                                                                                                     | display "points must be an integer between 1 to 10 inclusive"                                                                                                                     | Pass      |
| 14    | Solve a cryptogram                      | Player cannot bet invalid points                                                         | Player bet points over 10                                                                                                                                                                                          | display invalid input message                                                                                                                                                     | display "points must be an integer between 1 to 10 inclusive"                                                                                                                     | Pass      |
| 15    | Solve a cryptogram                      | Player cannot bet invalid points                                                         | Player has less than 10 points, bet points larger than his points but less than 10                                                                                                                                 | display invalid input message                                                                                                                                                     | no error message to the bet, able to submit solutions, player score is 0 after failure.                                                                                           | Pass      |
| 16    | Solve a cryptogram                      | Player will have a random cryptogram to solve when valid cryptogram exists               | Player doesn't have unfinished cryptogram, and click "solve a cryptogram" button in the main menu and bet a point; there is at least one cryptogram that is enabled, and is not attempted or created by the player | A random cryptogram is selected from database and displayed. the cryptogram is enabled, and is not attempted or created by the player.                                            | A random cryptogram is selected from database and displayed. the cryptogram is enabled, and is not attempted or created by the player.                                            | Pass      |
| 17    | Solve a cryptogram                      | Player will not have a cryptogram to solve when no valid cryptogram exists               | Player doesn't have unfinished cryptogram, and click "solve a cryptogram" button in the main menu; there is no cryptogram that is enabled, and is not attempted or created by the player                           | display a " no cryptogram exists" message, do not enter the solve cryptogram site                                                                                                 | display a " no cryptogram exists" message, do not enter the solve cryptogram site                                                                                                 | Pass      |
| 18    | Solve a cryptogram                      | Throw error message when Player submit invalid solution                                  | Player enter invalid solution and click "submit" button in solve cryptogram site                                                                                                                                   | display related error message                                                                                                                                                     | display related error message                                                                                                                                                     | Pass      |
| 19    | Solve a cryptogram                      | Player submit wrong solution when remaining attempts > 3                                 | Player enter valid but wrong solution and click "submit" button in solve cryptogram site when remaining attempts > 3                                                                                               | Show "wrong solution" message and "remaining attempts" reduce by 1                                                                                                                | Show "wrong solution" message and "remaining attempts" reduce by 1                                                                                                                | Pass      |
| 20    | Solve a cryptogram                      | Player submit wrong solution when remaining attempts = 3                                 | Player enter valid but wrong solution and click "submit" button in solve cryptogram site when remaining attempts = 3                                                                                               | Show "wrong solution" message, "remaining attempts" become 2, hint display                                                                                                        | Show "wrong solution" message, "remaining attempts" become 2, hint display                                                                                                        | Pass      |
| 21    | Solve a cryptogram                      | Player submit wrong solution before remaining attempts = 1                               | Player enter valid but wrong solution and click "submit" button in solve cryptogram site when remaining attempts = 1                                                                                               | Show some failure message, and player score in the view player score site is reduced by the bet, return to main menu                                                              | Show some failure message, and player score in the view player score site is reduced by the bet, return to main menu                                                              | Pass      |
| 22    | Solve a cryptogram                      | Player submit the right solution when remaining attempts > 3                             | Player enter the right solution and click "submit" button in solve cryptogram site and remaining attempts > 3                                                                                                      | Show some success message, and player score in the view player score site is increased by the bet                                                                                 | Show some success message, and player score in the view player score site is increased by the bet                                                                                 | Pass      |
| 23    | Solve a cryptogram                      | Player submit the right solution when remaining attempts <= 3                            | Player enter the right solution and click "submit" button in solve cryptogram site and remaining attempts <= 3                                                                                                     | Show some success message, and player score in the view player score site is unchanged                                                                                            | Show some success message, and player score in the view player score site is unchanged                                                                                            | Pass      |
| 24    | Solve a cryptogram                      | Player have 5 attempts for unattempted cryptogram                                        | Player click "solve cryptogram" and see a new cryptogram(no unfinished cryptogram)                                                                                                                                 | "remaining attempts" displayed is 5                                                                                                                                               | "remaining attempts" displayed is 5                                                                                                                                               | Pass      |
| 25    | Solve a cryptogram                      | Player can go back to the same cryptogram with remaining attempt                         | Player solve a cryptogram, enter a wrong solution when remaining attempts >= 2 and submit, go back to main menu, and click "solve cryptogram" again                                                                | The same cryptogram and the last remaining attempts reduced by 1 is displayed                                                                                                     | The same cryptogram and the last remaining attempts reduced by 1 is displayed                                                                                                     | Pass      |
| 26    | Solve a cryptogram                      | Player will see hint when 2 attempts remaining                                           | Player solve a cryptogram and failed in 3 submits                                                                                                                                                                  | hint displayed when remaining attempts = 2                                                                                                                                        | hint displayed when remaining attempts = 2                                                                                                                                        | Pass      |
| 27    | View player scores                      | Player can view the latest player scores                                                 | Player click "view player score" in main menu                                                                                                                                                                      | retrieve and display the latest player scores                                                                                                                                     | retrieve and display the latest player scores                                                                                                                                     | Pass      |
| 28    | View cryptogram statistics              | Administrator can view the latest cryptogram statistics                                  | Admin click "view cryptogram stats" in the admin main menu                                                                                                                                                         | retrieve and display list of cryptograms from newest to the oldest with title, creator, completed games, percent of wins                                                          | retrieve and display list of cryptograms from newest to the oldest with title, creator, completed games, percent of wins                                                          | Pass      |
| 29    | View cryptogram statistics              | The ranking of the cryptograms is correct                                                | Admin click "view cryptogram stats" in the admin main menu                                                                                                                                                         | all cryptograms are show from newest to oldest                                                                                                                                    | all cryptograms are show from newest to oldest                                                                                                                                    | Pass      |
| 30    | View cryptogram statistics              | The number of games and percent of games win using each cryptogram are tracked correctly | Admin track the number of games played on all cryptograms; Player failed a game using a cryptogram; Admin view crypto stats again                                                                                  | the number of games played on that cryptogram increased by 1, the percent of win of the cryptogram = num_games_old * percent_win_old / (num_games_old + 1)                        | the number of games played on that cryptogram increased by 1, the percent of win of the cryptogram = num_games_old * percent_win_old / (num_games_old + 1)                        | Pass      |
| 31    | View cryptogram statistics              | The number of games and percent of games win using each cryptogram are tracked correctly | Admin track the number of games played on all cryptograms; Player succeed in a game using a cryptogram; Admin view crypto stats again                                                                              | the number of games played on that cryptogram increased by 1, the percent of win of the cryptogram = (num_games_old * percent_win_old + 1) / (num_games_old + 1)                  | the number of games played on that cryptogram increased by 1, the percent of win of the cryptogram = (num_games_old * percent_win_old + 1) / (num_games_old + 1)                  | Pass      |
| 32    | View cryptogram statistics              | Admin can view cryptogram details (title, encoded phase etc.)                            | Admin click "view cryptogram stats" in the admin main menu, and click the title of a cryptogram, and click view cryptogram details                                                                                 | details of the cryptogram is shown                                                                                                                                                | details of the cryptogram is shown                                                                                                                                                | Pass      |
| 33    | Disable cryptogram and Penalize creator | Admin can disable a cryptogram without penalize its creator                              | Admin select a cryptogram, and enter 0 point to penalty in the disable cryptogram site.                                                                                                                            | cryptogram status display as "disabled" and cryptogram removed from the random cryptograms generator, creator score remains the same                                              | cryptogram status display as "disabled" and cryptogram removed from the random cryptograms generator, creator score remains the same                                              | Pass      |
| 34    | Disable cryptogram and Penalize creator | Admin can penalize the creator when disable a cryptogram                                 | Admin select a cryptogram, and enter a point (0-10) to penalty in the disable cryptogram site.                                                                                                                     | Player score updated in the database                                                                                                                                              | show "could not disable the cryptogram" and "the cryptogram was disabled" one after another. creator score is not reduced                                                         | Pass      |
| 35    | Disable cryptogram and Penalize creator | Admin disabling a cryptogram won't affect a in-progress game                             | Admin disable a cryptogram when a player failed <5 attempts in that cryptogram and go to the main menu                                                                                                             | cryptogram status display as "disabled" and cryptogram removed from the random cryptograms generator; the player go back to solve cryptogram, the disabled cryptogram is displayed | cryptogram status display as "disabled" and cryptogram removed from the random cryptograms generator; the player go back to solve cryptogram, the disabled cryptogram is displayed | Pass      |
| 36    | Disable cryptogram and Penalize creator | Administrator cannot penalize invalid points                                             | Admin select a cryptogram, and enter a points not between 0 to 10 in penalty in the disable cryptogram site.                                                                                                       | throw an error to the penalty entered; disabling cryptogram and penalizing creator failed.                                                                                        | show "penalty should between 0-10 points" error, could not disable the cryptogram                                                                                                 | Pass      |
